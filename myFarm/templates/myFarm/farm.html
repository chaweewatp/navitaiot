<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    {#    <link rel="stylesheet" href="{% static  'css/landingPage.css' %}">#}
    {#    <link rel="stylesheet" href="{% static 'css/landingPageFonts.css' %}">#}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    {#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>#}
    {#    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>#}
    {#    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>#}

    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-clockpicker.min.css' %}">

    <title>Title</title>

    <style>
        .block {
            padding: 40px;
            text-align: center;
        }

        .y {
            background: yellow;
        }

        .r {
            background: red;
        }

        .b {
            background: lightblue;
        }

        .g {
            background: lightgreen;
        }

    </style>


</head>
<body>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-analytics.js"></script>

<script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
        apiKey: "AIzaSyCs9xyouIlR_7SBQwCpL_Bde22ZDC4vpWM",
        authDomain: "navitaiot.firebaseapp.com",
        databaseURL: "https://navitaiot.firebaseio.com",
        projectId: "navitaiot",
        storageBucket: "navitaiot.appspot.com",
        messagingSenderId: "840926440731",
        appId: "1:840926440731:web:9e7d0a635d9e89ff0db7be",
        measurementId: "G-5FY5JL3YN1"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    var farmRef = firebase.database().ref("farmCode/" + '{{ farmCode }}');
    farmRef.on('value', function (snapshot) {
        {#console.log(snapshot.val());#}
        var arr = snapshot.val();
        {#console.log(arr['flow1Status'])#}
        if (arr['flow1Status'] == true) {
            document.getElementById("flowSensor1").innerHTML = "เปิด";
        } else if (arr['flow1Status'] == false) {
            document.getElementById("flowSensor1").innerHTML = "ปิด";
        } else {
            document.getElementById("flowSensor1").innerHTML = "N/A";
        }

        if (arr['relay1On'] == true) {
            document.getElementById("statusRelay1").innerHTML = "เปิด";
        } else if (arr['relay1On'] == false) {
            document.getElementById("statusRelay1").innerHTML = "ปิด";
        } else {
            document.getElementById("statusRelay1").innerHTML = "N/A";
        }

        if (arr['relay2On'] == true) {
            document.getElementById("statusRelay2").innerHTML = "เปิด";
        } else if (arr['relay2On'] == false) {
            document.getElementById("statusRelay2").innerHTML = "ปิด";
        } else {
            document.getElementById("statusRelay2").innerHTML = "N/A";
        }

        if (arr['relay3On'] == true) {
            document.getElementById("statusRelay3").innerHTML = "เปิด";
        } else if (arr['relay3On'] == false) {
            document.getElementById("statusRelay3").innerHTML = "ปิด";
        } else {
            document.getElementById("statusRelay3").innerHTML = "N/A";
        }

        if (arr['relay4On'] == true) {
            document.getElementById("statusRelay4").innerHTML = "เปิด";
        } else if (arr['relay4On'] == false) {
            document.getElementById("statusRelay4").innerHTML = "ปิด";
        } else {
            document.getElementById("statusRelay4").innerHTML = "N/A";
        }
        if (arr['relay5On'] == true) {
            document.getElementById("statusRelay5").innerHTML = "เปิด";
        } else if (arr['relay5On'] == false) {
            document.getElementById("statusRelay5").innerHTML = "ปิด";
        } else {
            document.getElementById("statusRelay5").innerHTML = "N/A";
        }

        if (arr['relay6On'] == true) {
            document.getElementById("statusRelay6").innerHTML = "เปิด";
        } else if (arr['relay6On'] == false) {
            document.getElementById("statusRelay6").innerHTML = "ปิด";
        } else {
            document.getElementById("statusRelay6").innerHTML = "N/A";
        }
    });

    {#firebase.database().ref("farmCode/" + '{{ farmCode }}').set(#}
    {#    {#}
    {#        'airHumidSensor':79.6,#}
    {#        'airTempSensor':30.1,#}
    {#        'valve1Status': false,#}
    {#        'valve2Status': false,#}
    {#        'valve3Status': false,#}
    {#        'valve4Status': false,#}
    {#        'relay1Status': false,#}
    {#        'relay2Status': false,#}
    {#        'flow1Status': false,#}
    {#        'flow2Status': false,#}
    {#        'flow3Status': false,#}
    {#    }#}
    {#)#}

</script>


<div class="body">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-md12 text-title">
                <p>{{ farmName }}</p>
                <p>{{ farmCode }}</p>
            </div>
        </div>

        {# Sensor #}
        <div class="row">
            <div class="col-xs-12 col-md12 text-title">
                <p>ค่าวัด sensor</p>
                <p>Flow sensor 1: <span id="flowSensor1"></span></p>
            </div>
        </div>

        {# control #}
        <div class="row">
            <div class="col-xs-12 col-md12 text-title">
                <form method="POST">
                    {% csrf_token %}

                    <li>
                        <input type="radio" id="a-option" name="command" value="ON">
                        <label for="a-option" id="text8"> เปิด LED </label>
                    </li>
                    <li>
                        <input type="radio" id="a-option" name="command" value="OFF">
                        <label for="a-option" id="text8"> ปิด LED </label>
                    </li>
                    <input id="submit" class="w-100 btn" type="submit" value="ส่งค่า">
                </form>
            </div>
        </div>


        <div class="row">
            <div class="col-xs-6">-------------------------------------------</div>
            <div class="col-xs-6">###########################################</div>
        </div>
        {# controller#}
        <div class="row">
            <div class="col-xs-12 col-md12 text-title">
                <div class="row">
                    {# relay 1#}
                    <div class="col-xs-4 ">
                        {# block css#}
                        <div class="block b">
                            <div class="row">
                                <div class="col12">
                                    Relay1
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Mode: Manual
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Status: <span id="statusRelay1"></span>
                                </div>
                            </div>
                            <div class="row">
                                <button type="button" class="btn btn-success" id="controlRelay1On">On</button>
                                <button type="button" class="btn btn-danger" id="controlRelay1Off">Off</button>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    <button type="button" class="btn btn-primary" id="setRelay1Schedule">Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {# relay 2#}
                    <div class="col-xs-4 ">
                        {# block css#}
                        <div class="block b">
                            <div class="row">
                                <div class="col12">
                                    Relay2
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Mode: Manual
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Status: <span id="statusRelay2"></span>
                                </div>
                            </div>
                            <div class="row">
                                <button type="button" class="btn btn-success" id="controlRelay2On">On</button>
                                <button type="button" class="btn btn-danger" id="controlRelay2Off">Off</button>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    <button type="button" class="btn btn-primary" id="setRelay2Schedule">Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    {# relay 3#}
                    <div class="col-xs-4 ">
                        {# block css#}
                        <div class="block b">
                            <div class="row">
                                <div class="col12">
                                    Relay3
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Mode: Manual
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Status: <span id="statusRelay3"></span>
                                </div>
                            </div>
                            <div class="row">
                                <button type="button" class="btn btn-success" id="controlRelay3On">On</button>
                                <button type="button" class="btn btn-danger" id="controlRelay3Off">Off</button>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    <button type="button" class="btn btn-primary" id="setRelay3Schedule">Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <p></p>
                <div class="row">
                    {# relay 4#}
                    <div class="col-xs-4 ">
                        {# block css#}
                        <div class="block b">
                            <div class="row">
                                <div class="col12">
                                    Relay4
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Mode: Manual
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Status: <span id="statusRelay4"></span>
                                </div>
                            </div>
                            <div class="row">
                                <button type="button" class="btn btn-success" id="controlRelay4On">On</button>
                                <button type="button" class="btn btn-danger" id="controlRelay4Off">Off</button>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    <button type="button" class="btn btn-primary" id="setRelay4Schedule">Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>


                    {# relay 5#}
                    <div class="col-xs-4 ">
                        {# block css#}
                        <div class="block b">
                            <div class="row">
                                <div class="col12">
                                    Relay5
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Mode: Manual
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Status: <span id="statusRelay5"></span>
                                </div>
                            </div>
                            <div class="row">
                                <button type="button" class="btn btn-success" id="controlRelay5On">On</button>
                                <button type="button" class="btn btn-danger" id="controlRelay5Off">Off</button>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    <button type="button" class="btn btn-primary" id="setRelay5Schedule">Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    {# relay 6#}
                    <div class="col-xs-4 ">
                        {# block css#}
                        <div class="block b">
                            <div class="row">
                                <div class="col12">
                                    Relay6
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Mode: Manual
                                </div>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    Status: <span id="statusRelay6"></span>
                                </div>
                            </div>
                            <div class="row">
                                <button type="button" class="btn btn-success" id="controlRelay6On">On</button>
                                <button type="button" class="btn btn-danger" id="controlRelay6Off">Off</button>
                            </div>
                            <div class="row">
                                <div class="col12">
                                    <button type="button" class="btn btn-primary" id="setRelay6Schedule">Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

            </div>
        </div>

        {# Schedule set #}
        <div class="row">
            <div class="col-xs-6">-------------------------------------------</div>
            <div class="col-xs-6">###########################################</div>
        </div>
        {# Period 1#}
        <div class="row">
            <div class="col-12">
                <input type="checkbox" id="timePeriod1R1" name="timePeriod1R1" value="timePeriod1R1">
                เริ่มเวลา <input type="time" step="1" id="timePeriod1R1Start">
                เป็นเวลา <input id="timePeriod1R1Delay"> นาที
                สิ้นสุดเวลา <input type="time" step="1" id="timePeriod1R1Stop" disable>
                <button type="button" id="buttonTimeRelay1Submit">บันทึกค่า/ดำเนินการตั้งเวลา</button>
                {#                <button type="button" id="buttonTimeRelay1">CLICK</button>#}
            </div>
        </div>
        {# Period 2#}
        <div class="row">
            <div class="col-12">
                <input type="checkbox" id="timePeriod2R1" name="timePeriod2R1" value="timePeriod2R1">
                เริ่มเวลา <input type="time" step="1" id="timePeriod2R1Start">
                เป็นเวลา <input id="timePeriod2R1Delay"> นาที
                สิ้นสุดเวลา <input type="time" step="1" id="timePeriod2R1Stop" disable>
                {#                <button type="button" id="buttonTimeRelay2">CLICK</button>#}
            </div>
        </div>
        {# Period 3#}
        <div class="row">
            <div class="col-12">
                <input type="checkbox" id="timePeriod3R1" name="timePeriod3R1" value="timePeriod3R1">
                เริ่มเวลา <input type="time" id="timePeriod3R1Start">
                เป็นเวลา <input id="timePeriod3R1Delay"> นาที
                สิ้นสุดเวลา <input type="time" step="1" id="timePeriod3R1Stop" disable>
                {#                <button type="button" id="buttonTimeRelay3">CLICK</button>#}
            </div>
        </div>
        {# Period 4#}
        <div class="row">
            <div class="col-12">
                <input type="checkbox" id="timePeriod4R1" name="timePeriod4R1" value="timePeriod4R1">
                เริ่มเวลา <input type="time" id="timePeriod4R1Start">
                เป็นเวลา <input id="timePeriod4R1Delay"> นาที
                สิ้นสุดเวลา <input type="time" step="1" id="timePeriod4R1Stop" disable>
            </div>
        </div>
        {# Period 5#}
        <div class="row">
            <div class="col-12">
                <input type="checkbox" id="timePeriod5R1" name="timePeriod5R1" value="timePeriod5R1">
                เริ่มเวลา <input type="time" id="timePeriod5R1Start">
                เป็นเวลา <input id="timePeriod5R1Delay"> นาที
                สิ้นสุดเวลา <input type="time" step="1" id="timePeriod5R1Stop" disable>
            </div>
        </div>
        {# Period 6#}
        <div class="row">
            <div class="col-12">
                <input type="checkbox" id="timePeriod6R1" name="timePeriod6R1" value="timePeriod6R1">
                เริ่มเวลา <input type="time" id="timePeriod6R1Start">
                เป็นเวลา <input id="timePeriod6R1Delay"> นาที
                สิ้นสุดเวลา <input type="time" step="1" id="timePeriod6R1Stop" disable>
            </div>
        </div>
        <button type="button" id="buttonTimeRelayAllCal">คำนวนเวลา</button>
        <button type="button" id="buttonTimeRelayAllSubmit">บันทึกค่า/ดำเนินการตั้งเวลา</button>

    </div>
</div>
</div>
{# control relay#}
<script>
    {# control relay 1#}
    var url = "https://navitaiot.herokuapp.com/testAPI2/"
    document.getElementById('controlRelay1On').onclick = function () {
        console.log('controlRelay1On clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay1", "control": "on"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

    }
    document.getElementById('controlRelay1Off').onclick = function () {
        console.log('controlRelay1Off clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay1", "control": "off"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }
    document.getElementById('setRelay1Schedule').onclick = function () {
        console.log('setRelay1Schedule clicked')
    }

    {# control relay 2#}
    document.getElementById('controlRelay2On').onclick = function () {
        console.log('controlRelay2On clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay2", "control": "on"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

    }
    document.getElementById('controlRelay2Off').onclick = function () {
        console.log('controlRelay2Off clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay2", "control": "off"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }
    document.getElementById('setRelay2Schedule').onclick = function () {
        console.log('setRelay2Schedule clicked')
    }

    {# control relay 3#}
    document.getElementById('controlRelay3On').onclick = function () {
        console.log('controlRelay3On clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay3", "control": "on"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

    }
    document.getElementById('controlRelay3Off').onclick = function () {
        console.log('controlRelay3Off clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay3", "control": "off"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }
    document.getElementById('setRelay3Schedule').onclick = function () {
        console.log('setRelay3Schedule clicked')
    }

    {# control relay 4#}
    document.getElementById('controlRelay4On').onclick = function () {
        console.log('controlRelay4On clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay4", "control": "on"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

    }
    document.getElementById('controlRelay4Off').onclick = function () {
        console.log('controlRelay4Off clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay4", "control": "off"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }
    document.getElementById('setRelay4Schedule').onclick = function () {
        console.log('setRelay4Schedule clicked')
    }

    {# control relay 5#}
    document.getElementById('controlRelay5On').onclick = function () {
        console.log('controlRelay5On clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay5", "control": "on"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

    }
    document.getElementById('controlRelay5Off').onclick = function () {
        console.log('controlRelay5Off clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay5", "control": "off"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }
    document.getElementById('setRelay5Schedule').onclick = function () {
        console.log('setRelay1Schedule clicked')
    }

    {# control relay 6#}
    document.getElementById('controlRelay6On').onclick = function () {
        console.log('controlRelay6On clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay6", "control": "on"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

    }
    document.getElementById('controlRelay6Off').onclick = function () {
        console.log('controlRelay6Off clicked')
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Cookie", "csrftoken=rEjFtI8SYft2HZ0JZJe02HuyzYjPv7VTqbsNnfbl1V0zHQVt7VsdwAhzhjVdVRsH");

        var raw = JSON.stringify({
            "farmID": "AA0001",
            "token": "xxx",
            "method": "control",
            "detail": {"device": "relay6", "control": "off"}
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }
    document.getElementById('setRelay6Schedule').onclick = function () {
        console.log('setRelay6Schedule clicked')
    }

</script>

{# schedule set#}
<script>
    {# Time picker#}

    function pad(num) {
        return ("0" + num).slice(-2);
    }

    function endTime(start, delay) {
        var s = start.split(":"), sMin = +s[1] + s[0] * 60
        end = sMin + Math.floor(delay);
        var h = Math.floor(end / 60), m = end % 60;
        return "" + pad(h) + ":" + pad(m) + ":" + pad(s);
    }

    document.getElementById('buttonTimeRelayAllCal').onclick = function () {
        console.log('buttonTimeRelayAllCal clicked')
        var period;
        for (period = 1; period < 7; period++) {
            console.log(period);
            console.log('timePeriod' + period.toString() + 'R1');
            if (document.getElementById('timePeriod' + period.toString() + 'R1').checked || true) {
                document.getElementById('timePeriod' + period.toString() + 'R1Stop').value = endTime(
                    document.getElementById('timePeriod' + period.toString() + 'R1Start').value,
                    document.getElementById('timePeriod' + period.toString() + 'R1Delay').value
                )
            }

        }


        }
        document.getElementById('buttonTimeRelayAllSubmit').onclick = function () {
        }

        document.getElementById('buttonTimeRelay1Submit').onclick = function () {
            if (document.getElementById('timePeriod1R1').checked || true) {
                start = document.getElementById('timePeriod1R1Start').value
                end = document.getElementById('timePeriod1R1Stop').value
                console.log(start)
                var s = start.split(":")
                console.log(s[0])
                                console.log(start)

                var e = end.split(":")


                var myHeaders = new Headers();
                myHeaders.append("Content-Type", "application/json");
                var raw = JSON.stringify({
                    "farmID": "AA0001",
                    "token": "xxx",
                    "method": "scheduleSet",
                    "detail": {
                        "device": "relay1",
                        "period": 1,
                        "start_hour": s[0],
                        "start_minute": s[1],
                        "start_second": s[2],
                        "end_hour": e[0],
                        "end_minute": e[1],
                        "end_second": e[2],
                        "duration": 3,
                        "pause": false
                    },
                    "dayOfWeek": "mon,tue,wed,thu,fri,sat,sun"
                });
                console.log(raw)
                var requestOptions = {
                    method: 'POST',
                    headers: myHeaders,
                    body: raw,
                    redirect: 'follow'
                };

                {#fetch("http://127.0.0.1:8000/createSchedule/", requestOptions)#}
                fetch("https://navitaiot.herokuapp.com/createSchedule/", requestOptions)
                    .then(response => response.text())
                    .then(result => console.log(result))
                    .catch(error => console.log('error', error));


            }
        }
</script>

{#  <script src="../../static/js/vendor/modernizr-3.8.0.min.js"></script>#}
{#  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>#}
{#  <script>window.jQuery || document.write('<script src="./js/vendor/jquery-3.4.1.min.js"><\/script>')</script>#}
{#  <script src="../../static/js/plugins.js"></script>#}
{#<script src="{% static 'js/main.js' %}"></script>#}
{#  <script src="../../static/js/main.js"></script>#}


</body>
</html>